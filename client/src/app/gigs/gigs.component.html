<div class="container">
  <div class="row">
    <div class="col-md-3">
      <h5 class="mt-2">Sort By</h5>
      <select class="custom-select mb-3" (change)="onSortSelected($event.target.value)">
        <option *ngFor="let sort of sortOptions" [value]="sort.value">
          {{sort.name}}
        </option>
      </select>

      <h5 class="mt-3">Venues</h5>
      <ul class="list-group my-3">
        <li class="list-group-item" *ngFor="let venue of venues"
          [class.active]="venue.id === this.gigParams.venueId"
          [value]="venue.id"
          (click)="onVenueSelected(venue.id)">
          {{venue.name}}
        </li>
      </ul>

      <h5 class="mt-3">Band/Artist</h5>
      <ul class="list-group my-3">
        <li class="list-group-item" *ngFor="let band of bands"
          [class.active]="band === this.gigParams.band"
          [value]="band"
          (click)="onBandSelected(band)">
          {{band}}
        </li>
      </ul>
    </div>

    <div class="col-md-9">
      <div class="d-flex justify-content-between align-items-center pb-2">
        <app-paging-header 
          [totalCount]="totalCount"
          [pageSize]="this.gigParams.pageSize"
          [pageNumber]="this.gigParams.pageNumber"
        ></app-paging-header>

        <div class="ms-auto mt-2">
          <h6>Month</h6>
          <select class="custom-select mb-3" (change)="onMonthSelected($event.target.value)">
            <option *ngFor="let month of months" [value]="month.value">
              {{month.name}}
            </option>
          </select>
        </div>

        <div class="ms-2 mt-2">
          <h6>Year</h6>
          <select class="custom-select mb-3" (change)="onYearSelected($event.target.value)">
            <option *ngFor="let year of years" [value]="year.value">
              {{year.name}}
            </option>
          </select>
        </div>

        <div class="row ms-auto mt-2">
          <input (keyup.enter)="onSearch()" class="col form-control me-2" #search style="width: 300px" placeholder="search" type="text">
          <button (click)="onSearch()" class="col-auto btn btn-outline-primary me-2">Search</button>
          <button (click)="onReset()" class="col-auto btn btn-outline-success">Reset</button>
        </div>
      </div>

      <table class="table table-sm">
        <thead>
          <tr>
            <th scope="col">Date</th>
            <th scope="col">Venue</th>
            <th scope="col">Band/Artist</th>
            <th scope="col">Pay</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let gig of gigs">
            <td>{{gig.date | date}}</td>
            <td>{{gig.venue}}</td>
            <td>{{gig.band}}</td>
            <td>{{gig.pay | currency}}</td>
            <td>
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-outline-secondary me-2">Edit</button>
                <button type="button" class="btn btn-sm btn-outline-secondary">Delete</button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-center" *ngIf="this.totalCount > 0">
        <app-pager
            [pageSize]="gigParams.pageSize"
            [totalCount]="totalCount"
            (pageChanged)="onPageChanged($event)">
        </app-pager>
    </div>
    </div>
  </div>
</div>